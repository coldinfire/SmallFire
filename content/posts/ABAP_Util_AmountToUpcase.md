---
title: "SAP ABAP将数字金额转为大写"
date: 2021-05-13
draft: false
author: Small Fire
isCJKLanguage: true
categories: 
  - ABAP

tags: 
  - abaputils

---



SAP 实际业务中可能会有将金额、重量等数字格式转换为中文大写或则英文大写的银行金额内容。可以使用标准的函数 `SPELL_AMOUNT` 来进行处理，但是要注意该函数可能出现的问题。



### 金额转换为大写

转换金额字段时，AMOUNT 参数必须要有两位小数，如果没有小数位的话，函数会自动除以 100，转换成两位小数的类型。这将导致函数返回结果值变小。

CURRENCY：该参数在金额转换时必须输入对应的货币类型 ，否则函数会将 AMOUNT 字段当作非金额数据处理。

### 数字转换为大写

转换数字时，AMOUNT 参数如果为小数时，函数会自动将该参数的小数点右移，转换成整数来处理。这将导致函数返回结果值变大。

`CURRENCY`：该参数值在数字转换时为空。

### 解决小数问题方法

将金额字段进行拆分处理。

