---
title: "MM 概要"
date: 2019-03-01
draft: false
author: Small Fire
isCJKLanguage: true
categories: 
  - business

tags: 
  - MM

---

### 包含业务

- (采购询价 ME41 / 报价 ME47 录入、ME49 报价比较)----> 采购申请 (PR)----> 采购订单 (PO)----> 发送采购单给供应商 < ME9F>----> 采购收货 (产生物料凭证)----> 发票校验 (产生会计凭证)----> 应付

买物料（Purchasing、Invoicing）

- 基本数据管理：物料、供应商、采购信息、货源、配额、批次数据
- 采购管理：采购申请、货源确定、采购批准、采购订单处理、订单跟踪、采购货物接收
- 采购发票校验：订单、收货单、发票数量、金额匹配
- 库存管理：库存事务处理、库存状态控制、库存分析与评估
- 仓库管理：数量整理、库位管理、货架管理

### 业务流程

1. SAP 物流相关模块中，工厂是最重要的组织结构，隶属于公司代码，并且包括了和物流管理相关的最多的控制参数。这里首先创建一个工厂。
2. 创建工厂下面的 3 个库存地点：仓库、生产、运输。
3. 创建采购组织，再创建两个采购组：原材料和运营供应、贸易商品。
   - 注意：此时采购组织以及采购组和公司代码没有任何联系，采购组织和采购组也并没有联系，实际上，采购组在 client 层次，client 下的任何公司，任何工厂都可以使用这个采购组
4. 定义与工厂相关的两个 MRP 控制者，分别控制自制品计划和贸易商品的计划。
5. 将创建的工厂分配给公司代码。
6. 分配采购组织到公司代码。
7. 分配工厂到采购组织。SAP 系统中的一个采购组织可以同时负责几个工厂的采购。
8. 定义物料组：0001 原材料、0002 产成品和 0003 贸易商品。在维护主数据的时候，需要分配物料组。
9. 定义计划边际码。这个操作满足这样一种情况：公司除了正常的采购和生产时间，还规定在操作、产前、产后和订单下达各阶段预留一天的缓冲时间。这样的规则被定义在 “计划边际码” 中。
10. 工厂中有很多控制参数。如在库存管理中，对库存物料可以通过预留号进行预留，比如预留给生产订单或者销售订单。设定该工厂对于库存的预留允许比计划日期提前一个月使用，同时过期一个月以内的预留仍然可以使用。
11. 维护和库存相关的工厂参数 - 自动创建物料的库存地点视图。只有某个视图被定义了，才可以对这个物料进行某项操作。
12. 由于公司收到的发票大多是 17% 的增值税发票，因此这里我们可以把它设为缺省值，方便发票校验。因此我们可以在此处维护税务代码的缺省值。
13. 物料管理在 SAP 中只能开当月的账，或者至多当月或者上个月的账，而且开账只允许一个月一个月往后开，因此一开始我们要设定一个初始期间。一般初始期间设为上线前的那个月，如 12 月上线，就设定初始日期为 11 月，在 11 月中导入期末库存余额。
14. 维护和物料需求计划相关的工厂参数。这部分涉及的参数很多，首先可以采用先复制之前的，再更改不适用的参数。
15. 此处激活物料需求计划 MRP 这项功能，通过后台的配置实现。
16. 此处定义计划运行的号码范围(Number Range)。运行物料需求计划会产生很多凭证，比如计划订单、非独立需求等，这些凭证都有它们的编号范围。在 13 步复制 0001 的时候，这些编号范围都已经复制了，这里只需要进行检查。
17. 物料类型是定义物料主数据的最重要的一个参数。它决定了各类物料主数据需要维护哪些信息和参数，物料主数据的编号范围等。
18. 定义评估控制，激活按 “评估分组代码” 来定义科目，这样可以当集团公司有很多工厂时候，而它们的记账规则又是一样，不用一个一个的进行维护，而是将工厂集合成组统一来定义记账规则。
19. 将之前定义的工厂归入我们的 CN01 评估分组代码，这样以后该集团增加工厂时候，只需要把它分配给 CN01 就可以了，而不必再定义一套记账规则。
20. 除了工厂，另一个决定不同的会计科目的因素是物料本身，此处我们在物料主数据中定义一个 “评估类” 参数，通过 “评估类” 来决定会计科目。标准评估类：3000 原材料、3100 贸易商品、7920 成品。
21. 这时可以进行原材料主数据的录入了（MMRL）。填入相应的采购组、物料组 MRP 控制者、计划边际码等。
22. 随后新建贸易商品主数据 MMH1。
23. 新建生产成品主数据 MMF1。
24. 创建完各种物料后，可以在 MM60 中显示物料主记录清单。
25. 创建供应商的采购数据 MK01。创建的时候要填采购组织，账户组，账户组是在 FI 的时候创建的。供应商的采购数据是和具体的采购组织相关的，也就是说不同的采购组织向同一个供应商采购，可以有不同的规定。
26. 新建采购信息记录 ME11。采购信息记录包括信息如标准订单数量，净价，几天内交货，由哪个采购组负责等。保存这样的数据，可以方便实际采购时候参照使用。
27. 设置 SAP 中最为重要的集成配置之一，即物料移动在 SAP 中如何自动找到会计科目完成自动记账。
28. 将存货科目设置为只能自动记账，在 FS00 中实现。
29. SAP 在处理采购订单时，会检查采购订单中的价格和物料主数据的成本价格差异有多大，同时也会检查采购订单中的现金折扣是否可接受。如果差异超过一定的容差，系统会发出警告消息或者错误信息。
    - 不同的容差检查存放在 “容差码” 中，容差码 “PE” 是检查价格的，“SE” 是检查现金折扣的。
30. SAP 允许采购订单定价数量单位和采购订单数量单位有所不同，收货容差限制。比如采购订单数量是按件，但定价是按斤。这种情况下，收货的时候，两种单位的数量都要输入。在收货的时候，系统会检查定价数量和采购订单中的差异。
31. SAP 系统在发票校验的时候会做大量检查，如果校验不通过发票就会被冻结。容差检查。
32. 维护公司的项目全额检查。
33. 在 MD03 中运行物料需求计划(MRP)，MD04 可以显示库存 / 需求清单。（MD05 显示 MRP 清单）。
34. 这里计划部门手动创建采购申请 ME51N。根据采购申请，采购部门需要向供应商下采购订单 ME21N。
35. 进行采购收货 MIGO。（MB03 显示凭证；显示库存 MMBE）
36. 供应商采购发票随后到达，在 MIRO 中输入发票。
    - 如果发票比采购订单原定的日期提前到达，并超过了容差，发票将会被冻结。
37. 被冻结的发票可以经过相关管理人员检查后手工处理，使用 MRBR 来 Release 35 步被冻结的发票。
38. 在 MIR4 中显示发票和会计凭证。







